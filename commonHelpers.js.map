{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  const q = e.target.elements.input.value;\n  const key = '42276910-5dbc0617c597b0712888fd711';\n\n  if (q === '') {\n    return iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n  } else {\n    showLoader();\n    findPhotos(key, q)\n      .then(data => {\n        createMarkup(data);\n        hideLoader();\n      })\n      .catch(error => {\n        console.error('Error fetching photos:', error);\n        hideLoader();\n      })\n      .finally(() => form.reset());\n  }\n}\n\nfunction findPhotos(key, q) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = `?key=${key}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n\nfunction createMarkup(data) {\n  if (data.hits.length === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const markup = data.hits\n    .map(data => {\n      return `<li class=\"gallery-item\">\n             <a class=\"gallery-link\" href=\"${data.webformatURL}\">\n            <img class=\"gallery-image\" src=\"${data.largeImageURL}\" alt=\"${data.tags}\" />\n            </a>\n            <p><b>Likes: </b>${data.likes}</p>\n            <p><b>Views: </b>${data.views}</p>\n            <p><b>Comments: </b>${data.comments}</p> \n            <p><b>Downloads: </b>${data.downloads}</p>\n        </li>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', markup);\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n}\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n};"],"names":["form","gallery","loader","showLoader","hideLoader","onFormSubmit","e","q","key","iziToast","findPhotos","data","createMarkup","error","BASE_URL","END_POINT","PARAMS","url","res","markup","SimpleLightbox","options"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEAF,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpB,MAAMM,EAAID,EAAE,OAAO,SAAS,MAAM,MAC5BE,EAAM,qCAEZ,GAAID,IAAM,GACR,OAAOE,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,UAChB,CAAK,EAEDN,IACAO,EAAWF,EAAKD,CAAC,EACd,KAAKI,GAAQ,CACZC,EAAaD,CAAI,EACjBP,GACR,CAAO,EACA,MAAMS,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CT,GACR,CAAO,EACA,QAAQ,IAAMJ,EAAK,MAAK,CAAE,CAEjC,CAEA,SAASU,EAAWF,EAAKD,EAAG,CAC1B,MAAMO,EAAW,sBACXC,EAAY,QACZC,EAAS,QAAQR,CAAG,MAAMD,CAAC,2DAC3BU,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASN,EAAaD,EAAM,CAC1B,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMU,EAASR,EAAK,KACjB,IAAIA,GACI;AAAA,6CACgCA,EAAK,YAAY;AAAA,8CAChBA,EAAK,aAAa,UAAUA,EAAK,IAAI;AAAA;AAAA,+BAEpDA,EAAK,KAAK;AAAA,+BACVA,EAAK,KAAK;AAAA,kCACPA,EAAK,QAAQ;AAAA,mCACZA,EAAK,SAAS;AAAA,cAE5C,EACA,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,aAAckB,CAAM,EAC9B,IAAIC,EAAe,aAAcC,CAAO,EAChD,QAAO,CAClB,CAEA,MAAMA,EAAU,CACd,SAAU,GACV,YAAa,OACb,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB"}